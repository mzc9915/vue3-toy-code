{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/patchAttr.ts", "../src/modules/patchClass.ts", "../src/modules/patchEvent.ts", "../src/modules/patchStyle.ts", "../src/patchProp.ts", "../../shared/src/index.ts", "../../runtime-core/src/createVnode.ts", "../../runtime-core/seq.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts", "../../reactivity/src/effect.ts", "../../reactivity/src/reactiveEffect.ts", "../../reactivity/src/baseHandler.ts", "../../reactivity/src/reactive.ts", "../../reactivity/src/ref.ts", "../../reactivity/src/computed.ts", "../../reactivity/src/apiWatch.ts", "../src/index.ts"],
  "sourcesContent": ["// \u5BF9\u5143\u7D20\u589E\u5220\u6539\u67E5\u7684\u64CD\u4F5C\nexport const nodeOps = {\n    // \u5982\u679C\u7B2C\u4E09\u4E2A\u5143\u7D20\u4E0D\u4F20\u9012 === appendChild\n    insert: (el, parent, anchor)=> parent.insertBefore(el, anchor || null),\n    remove: (el)=>{\n        const parent = el.parentNode;\n        parent && parent.removeChild(el);\n    },\n    createElement: (type)=> document.createElement(type),\n    createText: (text)=>document.createTextNode(text),\n    setText: (node,text)=>node.nodeValue = text,\n    setElementText: (el,text)=>el.textContent = text,\n    parentNode: (node)=>node.parentNode,\n    nextSibling: (node)=>node.nextSibling,\n}", "export function patchAttr(el, key, value){\n    if(value == null){\n        el.removeAttribute(key)\n    }else{\n        el.setAttribute(key, value)\n    }\n}", "export function patchClass(el, value){\n    if(value == null){\n        el.removeAttribute('class')\n    }else{\n        el.className = value\n    }\n}", "function createInvoker(value) {\n    const invoker = (e) => invoker.value(e);\n    invoker.value = value;\n    return invoker;\n}\n\nexport function patchEvent(el, name, nextValue) {\n    // vue_event_invoker\n    const invokers = el._vei || (el._vei = {});\n\n    const eventName = name.slice(2).toLowerCase();\n\n    // \u662F\u5426\u5B58\u5728\u540C\u540D\u7684\u4E8B\u4EF6\u7ED1\u5B9A\n    const exsitingInvoker = invokers[eventName];\n    if(nextValue && exsitingInvoker){\n        // \u4E8B\u4EF6\u6362\u7ED1\u5B9A\n        exsitingInvoker.value = nextValue;\n    }\n\n    if(nextValue){\n        // \u7F13\u5B58\u51FD\u6570\n        const invoker = (invokers[eventName] = createInvoker(nextValue))\n        return el.addEventListener(eventName, invoker);\n    }\n\n    // \u73B0\u5728\u6CA1\u6709\uFF0C\u4EE5\u524D\u6709\n    if(exsitingInvoker){\n        el.removeEventListener(eventName, exsitingInvoker);\n        invokers[eventName] = undefined;\n    }\n}", "export function patchStyle(el, prevVal, nextVal) {\n    const style = el.style;\n\n    // \u65B0\u7684\u6837\u5F0F\u5168\u90FD\u8981\u751F\u6548\n    for (const key in nextVal) {\n        style[key] = nextVal[key];\n    }\n\n    if(prevVal){\n        for (const key in prevVal) {\n            // \u4EE5\u524D\u7684\u5C5E\u6027\uFF0C\u73B0\u5728\u6709\u6CA1\u6709\uFF0C\u5982\u679C\u6CA1\u6709\u5220\u9664\u6389\n            if(!nextVal?.[key]){\n                style[key] = null;\n            }\n        }\n    }\n}", "import { patchAttr } from \"./modules/patchAttr\"\nimport { patchClass } from \"./modules/patchClass\"\nimport { patchEvent } from \"./modules/patchEvent\"\nimport { patchStyle } from \"./modules/patchStyle\"\n\nexport default function patchProp (el, key, prevValue, nextValue) {\n    if(key === 'class'){\n        // \u5982\u679C\u662F class \u5C5E\u6027\n        patchClass(el, nextValue)\n    }else if(key === 'style'){\n        // \u5982\u679C\u662F style \u5C5E\u6027\n        patchStyle(el, prevValue, nextValue)\n    }else if(/^on[^a-z]/.test(key)){\n        // \u5982\u679C\u662F\u4E8B\u4EF6\n        patchEvent(el, key, nextValue)\n    }else{\n        // \u5176\u4ED6\u5C5E\u6027\n        patchAttr(el, key, nextValue)\n    }\n}", "export const isObject = (val)=>{\n    return typeof val === 'object' && val !== null\n}\n\nexport const isFunction = (val)=>{\n    return typeof val === 'function'\n}\n\nexport const isString = (val)=>{\n    return typeof val === 'string'\n}\n\nexport * from './shapeFlags'", "import { isString, ShapeFlags } from \"@vue/shared\"\n\nexport const Text = Symbol('Text')\nexport const Fragment = Symbol('Fragment')\n\nexport const isVNode = (val: any)=>{\n    return val ? val._v_isVNode === true : false\n}\n\nexport function isSameVnode(n1, n2) {\n    return n1.type === n2.type && n1.key === n2.key;\n  }\n\n// createVnode \u7684\u5199\u6CD5\u6BD4\u8F83\u6B7B\u677F\nexport const createVnode = (type, props, children = null) => {\n    const shapeFlag  = isString(type) ? ShapeFlags.ELEMENT : 0\n\n    const vnode = {\n        _v_isVNode: true,\n        type,\n        props,\n        key: props?.['key'],\n        el: null,\n        children,\n        shapeFlag\n    }\n\n    if(children){\n        let type = 0\n\n        if(Array.isArray(children)){\n            type = ShapeFlags.ARRAY_CHILDREN\n        }else{\n            children = String(children)\n            type = ShapeFlags.TEXT_CHILDREN\n        }\n\n        // \u5982\u679CshapeFlag\u4E3A9 \u8BF4\u660E\u5143\u7D20\u4E2D\u5305\u542B\u4E00\u4E2A\u6587\u672C\n        // \u5982\u679CshapeFlag\u4E3A17 \u8BF4\u660E\u5143\u7D20\u4E2D\u6709\u591A\u4E2A\u5B50\u8282\u70B9\n        vnode.shapeFlag |= type\n    }\n\n    return vnode\n}", "/**\n * \u7EF4\u6301\u4E00\u4E2A \"\u6700\u4F73\u53EF\u80FD\u5E8F\u5217\"\n * @param arr \n * @returns \n */\nexport default function getSquence(arr) {\n    // \u7B97\u6CD5\u7684\u6838\u5FC3\u601D\u60F3\u662F\uFF0C\u7EF4\u6301\u4E00\u4E2A \"\u6700\u4F73\u53EF\u80FD\u5E8F\u5217\"\n    // \u4E2D\u95F4\u53EF\u80FD\u4F1A\u6709\u5143\u7D20\u66FF\u6362\u64CD\u4F5C\uFF0C\u4F46\u5E76\u6CA1\u6709\u6539\u53D8\"\u6700\u4F73\u53EF\u80FD\u5E8F\u5217\"\u7684\u957F\u5EA6\uFF0C\n    // \u76F8\u53CD\uFF0C\u4EA4\u6362\u64CD\u4F5C\u4F7F \u5BF9\u5E94\u957F\u5EA6\u7684\u9012\u589E\u5B50\u5E8F\u5217\u7684\u6700\u5C0F\u5C3E\u5143\u7D20\u53D8\u5C0F\u4E86\uFF0C\u8FD9\u4F7F\u5F97\u540E\u7EED\u6709\u66F4\u591A\u7684\u673A\u4F1A\u53EF\u4EE5\u6DFB\u52A0\u65B0\u5143\u7D20\u5230\"\u6700\u4F73\u53EF\u80FD\u5E8F\u5217\"\u672B\u5C3E\uFF0C\u6269\u5C55\u6210\u66F4\u957F\u7684\u5E8F\u5217\n    // \u8FD9\u4E2A\"\u6700\u4F73\u53EF\u80FD\u5E8F\u5217\"\u4E0D\u4E00\u5B9A\u662F\u5B9E\u9645\u7684LIS\uFF0C\u4F46\u5B83\u7684\u957F\u5EA6\u5728\u4E0A\u8FF0\u64CD\u4F5C\u4E0B\uFF0C\u6700\u7EC8\u4E00\u5B9A\u7B49\u4E8E\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7684\u957F\u5EA6\u3002\n\n    // \u4FDD\u5B58\u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217\u7684\u7D22\u5F15\n    const result = [0] \n    const p = result.slice(0) // \u5B58\u653E\u7D22\u5F15\n    \n    let start, end, middle;\n    let resultLastIndex;\n\n    const len = arr.length\n\n    for (let i = 0; i < len; i++) {\n        const arrI = arr[i]\n\n        // \u4E3A\u4E86vue3, 0 \u6CA1\u6709\u610F\u4E49, \u9700\u8981\u5FFD\u7565\u6389\u6570\u7EC4\u4E2D 0 \u7684\u60C5\u51B5  [5,3,4,0] \n        if(arrI !== 0){\n            resultLastIndex = result[result.length - 1]\n\n            // \u62FF\u51FA\u7ED3\u679C\u96C6\u4E2D\u7684\u6700\u540E\u4E00\u9879\uFF0C\u548C\u5F53\u524D\u9879\u6BD4\u8F83\n            if(arr[resultLastIndex] < arrI){\n                // \u6B63\u5E38\u653E\u5165\u7684\u65F6\u5019\uFF0C\u524D\u4E00\u4E2A\u8282\u70B9\u7D22\u5F15\u5C31\u662Fresult\u4E2D\u7684\u6700\u540E\u4E00\u4E2A\n                p[i] = result[result.length - 1]\n                result.push(i)\n                // \u5F53\u524D\u7684\u503C \u6BD4\u4E0A\u4E00\u4E2A\u4EBA\u5927 \uFF0C\u76F4\u63A5push \uFF0C\u5E76\u4E14\u8BA9\u8FD9\u4E2A\u4EBA\u5F97\u8BB0\u5F55\u4ED6\u7684\u524D\u4E00\u4E2A\n                continue;\n            }\n\n            // \u4E8C\u5206\u67E5\u627E\u4F18\u5316, \u627E\u5230\u6BD4\u5F53\u524D\u503C\u5927\u7684\u90A3\u4E00\u4E2A\n            start = 0;\n            end = result.length - 1;\n            while(start < end){\n                middle = ((start + end) / 2) | 0 // \u5411\u4E0B\u53D6\u6574\n\n                if(arr[result[middle]] < arrI){\n                    start = middle + 1\n                }else{\n                    end = middle\n                }\n            }\n\n            // \u627E\u5230\u7ED3\u679C\u96C6 \u4E2D \u6BD4\u5F53\u524D\u8FD9\u4E00\u9879\u5927\u7684\u6570\n            if(arrI < arr[result[start]]){ // \u5982\u679C\u76F8\u540C \u6216\u8005 \u6BD4\u5F53\u524D\u7684\u8FD8\u5927\u5C31\u4E0D\u6362\u4E86\n                if(start > 0){\n                    // \u5C06\u5B83\u66FF\u6362\u7684\u524D\u4E00\u4E2A\u8BB0\u4F4F\n                    p[i] = result[start - 1]\n                }\n                result[start] = i\n            }\n        }\n    }\n    \n    // \u524D\u9A71\u8282\u70B9\u8FFD\u6EAF\n    // p \u4E3A\u524D\u9A71\u8282\u70B9\u7684\u5217\u8868\uFF0C\u9700\u8981\u6839\u636E\u6700\u540E\u4E00\u4E2A\u8282\u70B9\u505A\u8FFD\u6EAF\n    let l = result.length\n    let last = result[l - 1]\n    while(l-- > 0){\n        // \u5012\u5E8F\u5411\u524D\u627E\uFF0C\u56E0\u4E3Ap\u7684\u5217\u8868\u662F\u524D\u9A71\u8282\u70B9\n        result[l] = last\n        last = p[last]\n    }\n\n    return result\n}\n\n// [2,3,1,5,6,8,7,9,4]\n// 2 : 2 \u7684\u524D\u4E00\u4E2A\u662F null\n// 2 3 : 3 \u7684\u524D\u4E00\u4E2A\u662F 2\n// 1 3 : 1 \u7684\u524D\u4E00\u4E2A\u662F null\n// 1 3 5 : 5 \u7684\u524D\u4E00\u4E2A\u662F 3\n// ...\n// 1 3 4 6 7 9 : 9 \u7684\u524D\u4E00\u4E2A\u662F 7\n", "import { ShapeFlags } from '@vue/shared'\nimport { Fragment, isSameVnode, Text } from './createVnode'\nimport getSquence from '../seq'\n\nexport const createRenderer = (rendererOptions) => {\n    // core\u4E2D\u4E0D\u5173\u5FC3\u5982\u4F55\u6E32\u67D3\n    const {\n        insert: hostInsert,\n        remove: hostRemove,\n        createElement: hostCreateElement,\n        createText: hostCreateText,\n        setText: hostSetText,\n        setElementText: hostSetElementText,\n        parentNode: hostParentNode,\n        nextSibling: hostNextSibling,\n        patchProp: hostPatchProp,\n    } = rendererOptions\n\n    const mountChildren = (chilren, container, anchor, parentComponent) => {\n        for (let i = 0; i < chilren.length; i++) {\n            patch(null, chilren[i], container, anchor, parentComponent)\n        }\n    }\n\n    const mountElement = (vnode, container, anchor, parentComponent)=>{\n        const { type, props, shapeFlag, children } = vnode\n\n        // \u521B\u5EFA\u771F\u5B9E\u5143\u7D20\uFF0C\u6302\u8F7D\u5230\u865A\u62DF\u8282\u70B9\u4E0A:\u5173\u8054 vnode.el = \u771F\u5B9Edom\n        // \u7B2C\u4E8C\u6B21\u6E32\u67D3\u65B0\u7684vnode\uFF0C\u53EF\u4EE5\u548C\u4E0A\u4E00\u6B21\u7684vnode\u505A\u6BD4\u5BF9\uFF0C\u4E4B\u540E\u66F4\u65B0\u5BF9\u5E94\u7684el\u5143\u7D20\uFF0C\u53EF\u4EE5\u540E\u7EED\u518D\u590D\u7528\u8FD9\u4E2Adom\u5143\u7D20\n        const el = (vnode.el = hostCreateElement(type))\n        if(props){\n            for (const key in props) {\n                hostPatchProp(el, key, null, props[key])\n            }\n        }\n\n        // \u6587\u672C\n        if(shapeFlag & ShapeFlags.TEXT_CHILDREN){\n            hostSetElementText(el, vnode.children)\n        }else if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){ // \u591A\u4E2A\u513F\u5B50\n            mountChildren(vnode.children, el, anchor, parentComponent)\n        }\n\n        // \u63D2\u5165\u5230\u5BB9\u5668\u4E2D\n        hostInsert(el, container, anchor)\n    }\n\n    const patchElement = (n1, n2, container, anchor, parentComponent) => {\n        // \u5BF9\u6BD4\u524D\u540E\u5143\u7D20\uFF0C\u770B\u662F\u5426\u80FD\u591F\u590D\u7528dom \u5143\u7D20\n        // \u524D\u540E\u5143\u7D20\u4E00\u81F4\u5219\u6BD4\u8F83\u4E24\u4E2A\u5143\u7D20\u7684\u5C5E\u6027\u548C\u5B69\u5B50\u8282\u70B9\n        const el = (n2.el = n1.el)\n        const oldProps = n1.props || {}\n        const newProps = n2.props || {}\n\n        // hostPatchProp \u53EA\u9488\u5BF9\u67D0\u4E00\u4E2A\u5C5E\u6027\u6765\u5904\u7406  class style event attr\n        patchProps(oldProps, newProps, el)\n        patchChildren(n1, n2, el, anchor, parentComponent)\n    }\n\n    const processElement = (n1, n2, container, anchor, parentComponent) => {\n        if(n1 === null){\n            mountElement(n2, container, anchor, parentComponent)\n        }else{\n            patchElement(n1, n2, container, anchor, parentComponent)\n        }\n    }\n\n    const patchProps = (oldProps, newProps, el) => {\n        // \u65B0\u7684\u5C5E\u6027\u5168\u90FD\u8981\n        for (const key in newProps) {\n            hostPatchProp(el, key, oldProps[key], newProps[key])\n        }\n\n        for (const key in oldProps) {\n            if(!(key in newProps)){\n                // \u4EE5\u524D\u6709\uFF0C\u73B0\u5728\u6CA1\u6709\u4E86\uFF0C\u9700\u8981\u5220\u9664\n                hostPatchProp(el, key, oldProps[key], null)\n            }\n        }\n    }\n\n    const processText = (n1, n2, container) => {\n        if(n1 === null){\n            // 1. \u5C06\u865A\u62DF\u8282\u70B9\u8981\u5173\u8054\u771F\u5B9E\u8282\u70B9\n            // 2. \u5C06\u8282\u70B9\u63D2\u5165\u5230\u5BB9\u5668\u4E2D\n            hostInsert((n2.el = hostCreateText(n2.children)), container)\n        }else{\n            const el = (n2.el = n1.el)\n            if(n2.children !== n1.children){\n                hostSetText(el, n2.children)\n            }\n        }\n    }\n\n    const processFragment = (n1, n2, container, anchor, parentComponent) => {\n        if(n1 === null){\n            mountChildren(n2.children, container, anchor, parentComponent)\n        }else{\n            patchChildren(n1, n2, container, anchor, parentComponent)\n        }\n    }\n\n    const unmountChildren = (children, parentComponent) => {\n        for (let i = 0; i < children.length; i++) {\n            let child = children[i]\n            unmount(child, parentComponent)\n        }\n    }\n\n    // vue3 \u4E2D\u5206\u4E3A 2 \u79CD diff \u7B97\u6CD5\uFF0C \u5168\u91CFdiff\uFF08\u9012\u5F52 diff\uFF09 \u548C \u5FEB\u901Fdiff\uFF08\u9776\u5411\u66F4\u65B0\uFF09\n    const patchKeyedChildren = (c1, c2, el, parentComponent) => {\n        // \u6BD4\u8F832 \u4E2A\u513F\u5B50\u7684\u5DEE\u5F02\uFF0C\u8FDB\u800C\u66F4\u65B0el\n        // \u4E3B\u8981\u6D89\u53CA\u5230 appnendChild insertBefore removeChild\n        // \u4E3B\u8981\u7684\u7B56\u7565\u662F\uFF0C\u51CF\u5C11\u5BF9\u6BD4\u7684\u8303\u56F4\n        // 1. \u5148\u4ECE\u5934\u5F00\u59CB\u6BD4\uFF0C\u518D\u4ECE\u5C3E\u90E8\u5F00\u59CB\u6BD4\u8F83  \u786E\u5B9A\u4E0D\u4E00\u6837\u7684\u8303\u56F4\n        // 2. \u4ECE\u5934\u5BF9\u6BD4\uFF0C\u5728\u4ECE\u5C3E\u5BF9\u6BD4\uFF0C\u5982\u679C\u6709\u591A\u4F59\u7684\u6216\u8005\u65B0\u589E\u7684\u76F4\u63A5\u64CD\u4F5C\u5373\u53EF\n\n        let i = 0 // \u5F00\u59CB\u6BD4\u5BF9\u7684\u7D22\u5F15\n        let e1 = c1.length - 1 // \u7B2C\u4E00\u4E2A\u6570\u7EC4\u7684\u5C3E\u90E8\u7D22\u5F15\n        let e2 = c2.length - 1 // \u7B2C\u4E8C\u4E2A\u6570\u7EC4\u7684\u5C3E\u90E8\u7D22\u5F15\n\n        /**\n         * [a,b,c]\n         * [a,b,d,e]\n         * \u5230 c \u7684 \u4F4D\u7F6E\u7EC8\u6B62\u4E86\n         */\n        while(i <= e1 && i <= e2){\n            const n1 = c1[i]\n            const n2 = c2[i]\n\n            if(isSameVnode(n1, n2)){\n                // \u66F4\u65B0\u5F53\u524D\u8282\u70B9\u7684 \u5C5E\u6027\u548C\u513F\u5B50 (\u9012\u5F52\u6BD4\u8F83\u5B50\u8282\u70B9)\n                patch(n1, n2, el)\n            }else{\n                break\n            }\n            i++\n        }\n\n        /**\n         * [a,b,c] -> [a,b,d,e]\n         * \u7ECF\u8FC7\u4E0A\u8FF0\u7684\u6BD4\u8F83\u4E4B\u540E\uFF0Ci = 1\uFF0C [c] [d,e]\n         * \u4ECE\u540E\u5F80\u524D\u6BD4\u8F83\n         */\n        while(i <= e1 && i <= e2){\n            const n1 = c1[e1]\n            const n2 = c2[e2]\n\n            if(isSameVnode(n1, n2)){\n                // \u66F4\u65B0\u5F53\u524D\u8282\u70B9\u7684 \u5C5E\u6027\u548C\u513F\u5B50 (\u9012\u5F52\u6BD4\u8F83\u5B50\u8282\u70B9)\n                patch(n1, n2, el)\n            }else{\n                break;\n            }\n\n            e1--;\n            e2--;\n        }\n\n        /**\n         * \u540C\u5E8F\u5217 2\u79CD\u7279\u6B8A\u60C5\u51B5\n         *  - \u524D\u5C11\u540E\u591A \u540C\u5E8F\u5217 \u52A0\u6302\u8F7D [a,b,c] -> [a,b,c,d,e] : i > e1 && i<= e2\n         *  - \u524D\u591A\u540E\u5C11 \u540C\u5E8F\u5217 \u5378\u8F7D [a,b,c,d,e] -> [a,b,c] : e\n         */\n\n        // \u524D\u5C11\u540E\u591A\uFF1Ai > e1 && i<= e2\n        if(i > e1){\n            if(i <= e2){\n                // \u6709\u63D2\u5165\u7684\u90E8\u5206\uFF0C\u4ECE\u540E\u5F80\u524D\u63D2\u5165\n                // \u770B\u4E00\u4E0B\u4E0B\u4E00\u4E2A\u8282\u70B9\u662F\u5426\u5B58\u5728\n                const nextPos = e2 + 1\n                const anchor = c2[nextPos]?.el\n                while(i <= e2){\n                    patch(null, c2[i], el, anchor)\n                    i++\n                }\n            }\n        }else if(i > e2){ // \u524D\u591A\u540E\u5C11\uFF1Ai <= e1 && i > e2\n            if(i <= e1){\n                while(i <= e1){\n                    unmount(c1[i], parentComponent)\n                    i++\n                }\n            }\n        }else{\n            // \u672A\u77E5\u5E8F\u5217\n            // [a,b, c,d,e, f,g] -> [a,b, e,c,d,h, f,g]\n            let s1 = i;\n            let s2 = i;\n\n            // \u505A\u4E00\u4E2A\u6620\u5C04\u8868\u7528\u4E8E\u5FEB\u901F\u67E5\u627E\uFF0C \u770B\u8001\u7684\u662F\u5426\u5728\u65B0\u7684\u91CC\u9762\u8FD8\u6709\uFF0C\u6CA1\u6709\u5C31\u5220\u9664\uFF0C\u6709\u7684\u8BDD\u5C31\u66F4\u65B0\n            const keyToNewIndexMap = new Map()\n            for(let j = s2; j <= e2; j++){\n                const nextChild = c2[j]\n                keyToNewIndexMap.set(nextChild.key, j)\n            }\n\n            // \u8981\u5012\u5E8F\u63D2\u5165\u7684\u4E2A\u6570\n            const toBePatched = e2 - s2 + 1\n            // \u65B0\u7684\u5143\u7D20\u5728\u8001\u7684\u91CC\u7684\u7D22\u5F15 \u6620\u5C04\u8868\n            const newIndexToOldIndexMap = new Array(toBePatched).fill(0)\n\n            for (let i = s1; i <= e1; i++) {\n                const prevChild = c1[i]\n                // \u6839\u636E\u8001\u7684key \u627E\u5230\u65B0\u7684\u7D22\u5F15\n                const newIndex = keyToNewIndexMap.get(prevChild.key)\n                if(newIndex === undefined){\n                    // \u8001\u7684\u6709\uFF0C\u65B0\u7684\u6CA1\u6709\uFF0C\u76F4\u63A5\u5378\u8F7D\n                    unmount(prevChild, parentComponent)\n                }else{\n                    // \u6BD4\u8F83\u524D\u540E\u8282\u70B9\u7684\u5DEE\u5F02\uFF0C\u66F4\u65B0\u5C5E\u6027\u548C\u513F\u5B50\n                    // i \u53EF\u80FD\u662F0 \u7684\u60C5\u51B5\uFF0C\u4E3A\u4E86\u4FDD\u8BC1 0 \u662F\u6CA1\u6709\u5BF9\u6BD4\u8FC7\u7684\u5143\u7D20\uFF0C\u76F4\u63A5 i + 1\n                    // [a,b, c,d,e, f,g] -> [a,b, e,c,d,h, f,g] -> [e,c,d,h] [5, 3, 4, 0]\n                    newIndexToOldIndexMap[newIndex - s2] = i + 1\n                    patch(prevChild, c2[newIndex], el)\n                }\n            }\n\n            /**\n             * [c,d,e] -> [e,c,d,h]\uFF0C \u5982\u679C\u6309\u7167\u4E0B\u5217\u7684\u65B9\u6CD5\uFF0C\u9700\u8981\u6267\u884C4\u6B21\u63D2\u5165\u64CD\u4F5C\uFF0C\u6548\u7387\u4E0D\u9AD8\n             * \u4F46\u5176\u5B9E c,d \u662F\u53EF\u4EE5\u590D\u7528\n             */\n            // for(let i = toBePatched - 1; i >= 0 ; i--){\n            //     // [e, c, d, h]\n            //     const nextIndex = s2 + i // \u627E\u5230 \u2018h\u2019 \u5BF9\u5E94\u7684\u7D22\u5F15\n            //     const nextChild = c2[nextIndex]\n\n            //     let anchor = c2[nextIndex + 1]?.el // \u627E\u5B83\u7684\u4E0B\u4E00\u4E2A\u5143\u7D20\uFF0C\u4F5C\u4E3A\u53C2\u7167\u7269\u6765\u8FDB\u884C\u63D2\u5165\n\n            //     // \u8FD9\u662F\u4E00\u4E2A\u65B0\u5143\u7D20 \u76F4\u63A5\u521B\u5EFA\u63D2\u5165\u5230 \u5F53\u524D\u5143\u7D20\u7684\u4E0B\u4E00\u4E2A\u5373\u53EF\n            //     if(newIndexToOldIndexMap[i] === 0){\n            //         // \u521B\u5EFAh \u63D2\u5165\n            //         patch(null, nextChild, el, anchor)\n            //     }else{\n            //         hostInsert(nextChild.el, el, anchor)\n            //     }\n            // }\n\n            /**\n             * \u4F7F\u7528 \u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217 \u6765\u8FDB\u884C\u4F18\u5316, \u6C42\u89E3\u4E0D\u9700\u8981\u79FB\u52A8\u7684\u5143\u7D20\u6709\u54EA\u4E9B\n             */\n            // \u8C03\u6574\u987A\u5E8F\uFF0C\u53EF\u4EE5\u6309\u7167\u65B0\u7684\u961F\u5217\u5012\u5E8F\u63D2\u5165insertBefore \u901A\u8FC7\u53C2\u7167\u7269\u5F80\u524D\u9762\u63D2\u5165        \n            let increaseingSeq = getSquence(newIndexToOldIndexMap)\n            let j  = increaseingSeq.length - 1\n\n            for(let i = toBePatched - 1; i >= 0; i--){\n                const newIndex = s2 + i\n\n                let anchor = c2[newIndex + 1]?.el\n                let child = c2[newIndex]\n\n                if(newIndexToOldIndexMap[i] === 0){\n                    patch(null, child, el, anchor)\n                }else{\n                    if(i != increaseingSeq[j]){\n                        // \u64CD\u4F5C\u5F53\u524D\u7684 d \u4EE5d\u4E0B\u4E00\u4E2A\u4F5C\u4E3A\u53C2\u7167\u7269\u63D2\u5165\n                        hostInsert(child.el, el, anchor)\n                    }else{\n                        // \u8DF3\u8FC7\u4E0D\u9700\u8981\u79FB\u52A8\u7684\u5143\u7D20\uFF0C \u4E3A\u4E86\u51CF\u5C11\u79FB\u52A8\u64CD\u4F5C\n                        j--;\n                    }\n                }\n            }\n        }\n    }\n\n    const patchChildren = (n1, n2, el, anchor, parentComponent) => {\n        // text array null\n        const c1 = n1.children\n        const c2 = n2.children\n\n        const prevShapeFlag = n1.shapeFlag\n        const shapeFlag = n2.shapeFlag\n\n        // 1.\u65B0\u7684\u662F\u6587\u672C\uFF0C\u8001\u7684\u662F\u6570\u7EC4\u79FB\u9664\u8001\u7684\uFF1B\n        // 2.\u65B0\u7684\u662F\u6587\u672C\uFF0C\u8001\u7684\u4E5F\u662F\u6587\u672C\uFF0C\u5185\u5BB9\u4E0D\u76F8\u540C\u66FF\u6362\n        // 3.\u8001\u7684\u662F\u6570\u7EC4\uFF0C\u65B0\u7684\u662F\u6570\u7EC4\uFF0C\u5168\u91CF diff \u7B97\u6CD5\n        // 4.\u8001\u7684\u662F\u6570\u7EC4\uFF0C\u65B0\u7684\u4E0D\u662F\u6570\u7EC4\uFF0C\u79FB\u9664\u8001\u7684\u5B50\u8282\u70B9\n        // 5.\u8001\u7684\u662F\u6587\u672C\uFF0C\u65B0\u7684\u662F\u7A7A\n        // 6.\u8001\u7684\u662F\u6587\u672C\uFF0C\u65B0\u7684\u662F\u6570\u7EC4\n\n        // \u65B0\u7684\u662F\u6587\u672C\n        if(shapeFlag & ShapeFlags.TEXT_CHILDREN){\n            if(prevShapeFlag & ShapeFlags.ARRAY_CHILDREN){\n                // \u79FB\u9664\u8001\u7684\n                unmountChildren(c1, parentComponent)\n            }\n            if(c1 !== c2){\n                hostSetElementText(el, c2)\n            }\n        }else{ // \u65B0\u7684\u662F\u6570\u7EC4 \u6216 null\n            // \u65E7\u7684\u662F\u6570\u7EC4\n            if(prevShapeFlag & ShapeFlags.ARRAY_CHILDREN){\n                if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){\n                    // \u5168\u91CF diff\n                    patchKeyedChildren(c1, c2, el, parentComponent)\n                }else{\n                    unmountChildren(c1, parentComponent)\n                }\n            }else{ // \u65E7\u7684\u662F\u6587\u672C \u6216 null\n                if(prevShapeFlag & ShapeFlags.TEXT_CHILDREN){\n                    hostSetElementText(el, '')\n                }\n                if(shapeFlag & ShapeFlags.ARRAY_CHILDREN){\n                    mountChildren(c2, el, anchor, parentComponent)\n                }\n            }\n        }\n    }\n\n    // \u521D\u59CB\u5316\u548C diff \u5728\u8FD9\u91CC\u5904\u7406\n    const patch = (n1, n2, container, anchor = null, parentComponent = null) => {\n        if(n1 === n2){\n            // \u4E24\u6B21\u6E32\u67D3\u540C\u4E00\u4E2A\u5143\u7D20\u76F4\u63A5\u8DF3\u8FC7\u5373\u53EF\n            return;\n        }\n\n        if(n1 && !isSameVnode(n1, n2)){\n            // \u76F4\u63A5\u79FB\u9664\u65E7\u7684dom \u5143\u7D20\uFF0C\u521D\u59CB\u5316\u65B0\u7684 dom \u5143\u7D20\n            unmount(n1, parentComponent)\n            n1 = null\n        }\n\n        const { type, shapeFlag, ref } = n2\n\n        switch (type) {\n            // renderer.render(h(Text,'jw handsome'),document.getElementById('app'))\n            case Text:\n                processText(n1, n2, container);\n                break;\n            case Fragment:\n                processFragment(n1, n2, container, anchor, parentComponent);\n                break;\n            default:\n                if(shapeFlag & ShapeFlags.ELEMENT){\n                    // \u5BF9\u5143\u7D20\u5904\u7406\n                    processElement(n1, n2, container, anchor, parentComponent)\n                }\n        }\n    }\n\n    const unmount = (vnode, parentComponent)=>{\n        const performRemove = () => {\n            // \u627E\u5230\u5BF9\u5E94\u7684\u771F\u5B9E\u8282\u70B9\u5C06\u5176\u5378\u8F7D\n            hostRemove(vnode.el)\n        }\n\n        if(vnode.type === Fragment){\n            unmountChildren(vnode.children, parentComponent)\n        }else{\n            performRemove()\n        }\n    }\n\n    // \u591A\u6B21\u8C03\u7528 render \u51FD\u6570\uFF0C\u4F1A\u8FDB\u884C\u865A\u62DF\u8282\u70B9\u7684\u6BD4\u8F83\uFF0C\u518D\u8FDB\u884C\u66F4\u65B0\n    const render = (vnode, container)=>{\n        // \u5378\u8F7D\u5F53\u524D\u5BB9\u5668\u4E2D\u7684 dom \u5143\u7D20\n        if(vnode === null){\n            if(container._vnode){\n                unmount(container._vnode, null)\n            }\n        }else{\n            // \u5C06 \u865A\u62DF\u8282\u70B9 \u8F6C\u6362\u4E3A \u771F\u5B9E\u8282\u70B9 \u8FDB\u884C\u6E32\u67D3\n            patch(container._vnode || null, vnode, container)\n            container._vnode = vnode\n        }\n    }\n\n    return {\n        render\n    }\n}", "import { isObject } from \"@vue/shared\";\nimport { createVnode, isVNode } from \"./createVnode\";\n\nexport function h (type, propsOrChildren?, children?) {\n    const l = arguments.length;\n\n    if(l === 2){\n        // h('div', \u865A\u62DF\u8282\u70B9|\u5C5E\u6027)\n        if(isObject(propsOrChildren) && !Array.isArray(propsOrChildren)){\n            if(isVNode(propsOrChildren)){\n                return createVnode(type, null, [propsOrChildren])\n            }else{\n                return createVnode(type, propsOrChildren)\n            }\n        }else{\n            return createVnode(type, null, propsOrChildren)\n        }\n    }else{\n        if(l > 3){\n            children = Array.from(arguments).slice(2)\n        }\n\n        if(l === 3 && isVNode(children)){\n            children = [children]\n        }\n\n        return createVnode(type, propsOrChildren, children)\n    }\n}", "import { DirtyLevels } from \"./constants\"\n\nexport const effect = (fn, options)=>{\n    // \u9ED8\u8BA4\u6267\u884Ceffect\u65F6\u4F1A\u5BF9\u5C5E\u6027\uFF0C\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\n\n    // \u521B\u5EFA\u4E00\u4E2Aeffect\uFF0C\u53EA\u8981\u4F9D\u8D56\u7684\u5C5E\u6027\u53D1\u751F\u53D8\u5316\uFF0C\u5C31\u4F1A\u91CD\u65B0\u6267\u884Ceffect\n    const _effect = new ReactiveEffect(fn, ()=>{\n        // scheduler\n        _effect.run()\n    })\n\n    if(options){\n        Object.assign(_effect, options)\n    }\n\n    _effect.run()\n\n    const runner = _effect.run.bind(_effect)\n    runner.effect = _effect\n    return runner\n}\n\nconst preCleanEffect = (effect) => {\n    effect._depsLength = 0\n    // \u6BCF\u6B21\u6267\u884Ceffect\u65F6\uFF0C\u90FD\u4F1A\u66F4\u65B0id\uFF1B\u5982\u679C\u662F\u540C\u4E00\u4E2A effect\uFF0Cid \u5C31\u662F\u76F8\u540C\u7684\n    effect._trackId++\n}\n\nconst postCleanEffect = (effect) => {\n    // [flag, xx, yy, zz] -> [flag, cc]\n\n    // \u4E3B\u8981\u901A\u8FC7\uFF1Aeffect.deps.length \u548C effect._depsLength \u6765\u7BA1\u7406\u4F9D\u8D56\n    // 0~_depsLength \u4E4B\u95F4\u7684\u624D\u662F\u6709\u6548\u7684\u4F9D\u8D56\uFF0C\u5176\u4ED6\u7684\u662F\u65E0\u6548\u7684\u4F9D\u8D56\n    if(effect.deps.length > effect._depsLength){\n        for (let i = effect._depsLength; i < effect.deps.length; i++) {\n            // \u5220\u9664\u6620\u5C04\u8868\u4E2D\u5BF9\u5E94\u7684effect\n            cleanDepEffect(effect.deps[i], effect)\n        }\n\n        // \u66F4\u65B0\u4F9D\u8D56\u5217\u8868\u7684\u957F\u5EA6\n        effect.deps.length = effect._depsLength\n    }\n}\n\nexport let activeEffect;\n\nexport class ReactiveEffect {\n    _trackId = 0 // \u7528\u4E8E\u8BB0\u5F55\u5F53\u524Deffet \u6267\u884C\u4E86\u51E0\u6B21\n    _depsLength = 0\n    _running = 0\n    _dirtyLevel = DirtyLevels.DIRTY\n    active = true\n    deps = [] // \u6536\u96C6 effect \u4E2D\u4F7F\u7528\u5230\u7684\u5C5E\u6027\n\n    // \u5982\u679Cfn\u4E2D\u4F9D\u8D56\u7684\u6570\u636E\u53D1\u751F\u53D8\u5316\u540E\uFF0C\u9700\u8981\u91CD\u65B0\u8C03\u7528 -> run()\n    constructor(public fn, public scheduler){} \n\n    get dirty(){\n        return this._dirtyLevel === DirtyLevels.DIRTY\n    }\n    set dirty(val){\n        this._dirtyLevel = val ? DirtyLevels.DIRTY : DirtyLevels.NOT_DIRTY\n    }\n\n    // vue3.4 \u548C \u4E4B\u524D\u89E3\u51B3 \u5D4C\u5957 effect \u6709\u4F55\u4E0D\u540C\n    // 1. \u4F7F\u7528\u6808\u7684\u65B9\u5F0F\u89E3\u51B3\n    // 2. \u901A\u8FC7 currentEffect \u5C5E\u6027\u89E3\u51B3\n\n    // \u6267\u884Crun\uFF0C\u4EE3\u8868\u9875\u9762\u91CD\u65B0\u6E32\u67D3\n    run(){\n        // \u6BCF\u6B21\u8FD0\u884C\u540E\uFF0C\u8BA9effect \u7684 dirty NO_DIRTY\n        this._dirtyLevel = DirtyLevels.NOT_DIRTY\n\n        if(!this.active){\n            return this.fn()\n        }\n\n        const currentEffect = activeEffect\n        \n        try{\n            activeEffect = this\n\n            // effect \u91CD\u65B0\u6267\u884C\u524D\uFF0C\u9700\u8981\u6E05\u9664\u4E0A\u4E00\u6B21\u7684\u4F9D\u8D56\n            preCleanEffect(this)\n            this._running++;\n            // \u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\u5DE5\u4F5C\n            return this.fn()\n        }finally{\n            this._running--;\n            postCleanEffect(this)\n            activeEffect = currentEffect\n        }\n    }\n\n    stop() {\n        if (this.active) {\n          this.active = false; // \u540E\u7EED\u6765\u5B9E\u73B0\n          preCleanEffect(this);\n          postCleanEffect(this);\n        }\n      }\n}\n\nconst cleanDepEffect = (dep, effect)=>{\n    dep.delete(effect)\n    if(dep.size === 0){\n        // \u5982\u679Cmap\u4E3A\u7A7A\uFF0C\u5219\u5220\u9664\u8FD9\u4E2A\u5C5E\u6027\n        dep.cleanup()\n    }\n}\n\n// effect \u548C dep \u53CC\u5411\u8BB0\u5FC6\nexport const trackEffect = (effect, dep) => {\n    /**\n     * \u5B58\u5728\u6536\u96C6\u591A\u4F59\u4F9D\u8D56\u7684\u95EE\u9898\n     *  dep.set(effect, effect._trackId)\n     *  effect.deps[effect._depsLength++] = dep\n     */\n\n    // \u4F9D\u8D56\u6536\u96C6\u65F6\uFF0C\u662F\u4E00\u4E2A\u4E00\u4E2A\u8FDB\u884C\u6536\u96C6\u7684\uFF0C\u5728\u91CD\u65B0\u6536\u96C6\u65F6\uFF0C\u9700\u8981\u5C06\u4E0D\u8981\u7684\u4F9D\u8D56\u79FB\u9664\u6389\n    // 1. _trackId \u8BB0\u5F55\u6267\u884C\u6B21\u6570\uFF0C \u7528\u4E8E\u6807\u8BC6effect\u662F\u5426\u5DF2\u7ECF\u6536\u96C6\u8FC7\u4F9D\u8D56\uFF0C\u9632\u6B62\u4E00\u4E2A\u5C5E\u6027\u5728\u5F53\u524Deffect\u4E2D\u91CD\u590D\u6536\u96C6\uFF0C\u4E00\u4E2A\u5C5E\u6027\u5728\u4E00\u4E2Aeffect\u4E2D\u53EA\u6536\u96C6\u4E00\u6B21\n    // \u6E05\u7406\u64CD\u4F5C\u662F\u5728 effect \u7684 run \u65B9\u6CD5\u4E2D\u8FDB\u884C\u7684\uFF0C\u6240\u4EE5\uFF0C\u4E00\u4E2A effect \u5728 \u540C\u4E00\u4E2A\u6267\u884C\u8FC7\u7A0B\u4E2D\uFF0C _trackId\u662F\u76F8\u540C\u7684\n    if(dep.get(effect) !== effect._trackId){\n        // \u66F4\u65B0id\n        dep.set(effect, effect._trackId)\n\n        let oldDep = effect.deps[effect._depsLength]\n\n        if(oldDep !== dep){\n            if(oldDep){\n                // \u5220\u9664\u8001\u7684\u4F9D\u8D56\n                cleanDepEffect(oldDep, effect)\n            }\n\n            // \u66FF\u6362\u6210\u65B0\u7684\u4F9D\u8D56\n            effect.deps[effect._depsLength++] = dep\n        }else{\n            effect._depsLength++\n        }\n    }\n\n    // if(dep.get(effect) !== effect._trackId){\n    //     // \u66F4\u65B0id\n    //     dep.set(effect, effect._trackId)\n\n\n    // }\n}\n\nexport const triggerEffects = (dep) => {\n    for(const effect of dep.keys()){\n        // \u5C5E\u6027\u4F9D\u8D56\u4E86\u8BA1\u7B97\u5C5E\u6027\uFF0C\u9700\u8981\u8BA9\u8BA1\u7B97\u5C5E\u6027\u7684dirty\u53D8\u4E3Atrue\n        if(effect._dirtyLevel < DirtyLevels.DIRTY){\n            effect._dirtyLevel = DirtyLevels.DIRTY\n        }\n\n        if(!effect._running){\n            if(effect.scheduler){\n                effect.scheduler()\n            }\n        }\n    }\n}", "import { activeEffect, trackEffect, triggerEffects } from \"./effect\"\n\n// \u5B58\u653E\u4F9D\u8D56\u6536\u96C6\u7684\u5173\u7CFB\nconst targetMap = new WeakMap()\n\nexport const createDep = (cleanup, key)=>{\n    const dep = new Map() as any\n    // \u7528\u4E8E\u6E05\u7406\u4E0D\u9700\u8981\u7684\u5C5E\u6027\n    dep.cleanup = cleanup\n    dep._name = key; // \u81EA\u5B9A\u4E49\u7684\u4E3A\u4E86\u6807\u8BC6\u8FD9\u4E2A\u6620\u5C04\u8868\u662F\u7ED9\u54EA\u4E2A\u5C5E\u6027\u670D\u52A1\u7684\n    return dep\n}\n\nexport const track = (target, key)=>{\n    // activeEffect \u6709\u8FD9\u4E2A\u5C5E\u6027 \u8BF4\u660E\u8FD9\u4E2Akey\u662F\u5728effect\u4E2D\u8BBF\u95EE\u7684\uFF0C\u6CA1\u6709\u8BF4\u660E\u5728effect\u4E4B\u5916\u8BBF\u95EE\u7684\u4E0D\u7528\u8FDB\u884C\u6536\u96C6\n    if(activeEffect){\n        // \u6784\u5EFA\u6570\u636E\u7ED3\u6784\uFF1AMap: {obj: {\u5C5E\u6027\uFF1ASet:[effect,effect,effect]}}\n        let depsMap = targetMap.get(target)\n\n        if(!depsMap){\n            targetMap.set(target, (depsMap = new Map()))\n        }\n\n        let dep = depsMap.get(key)\n\n        if(!dep){\n            depsMap.set(\n                key,\n                (dep = createDep(()=>depsMap.delete(key), key))\n            )\n        }\n\n        // \u4F9D\u8D56\u6536\u96C6\n        trackEffect(activeEffect, dep)\n    }\n}\n\n\nexport const trigger = (target, key, newVal, oldVal)=>{\n    const depsMap = targetMap.get(target)\n\n    if(!depsMap){\n        // \u627E\u4E0D\u5230\u5BF9\u8C61\uFF0C\u76F4\u63A5 return\n        return;\n    }\n\n    let dep = depsMap.get(key)\n\n    if(dep){\n        triggerEffects(dep)\n    }\n}\n", "import { isObject } from \"@vue/shared\"\nimport { ReactiveFlags } from \"./constants\"\nimport { reactive } from \"./reactive\"\nimport { track, trigger } from \"./reactiveEffect\"\n\nexport const mutableHandlers = {\n    // Reflect \u63D0\u4F9B\u7684\u65B9\u6CD5\u53EF\u5E2E\u52A9\u6211\u4EEC\u907F\u514D\u5728 Proxy handler \u4E2D\u76F4\u63A5\u5BF9\u76EE\u6807\u5BF9\u8C61\u8FDB\u884C\u64CD\u4F5C\uFF0C\u4ECE\u800C\u51CF\u5C11\u6F5C\u5728\u7684\u9519\u8BEF\u548C\u4EE3\u7801\u590D\u6742\u5EA6\n    get(target, key, recevier){\n        if(key === ReactiveFlags.IS_REACTIVE){\n            return true\n        }\n\n        // \u5F53\u53D6\u503C\u65F6\uFF0C\u8BA9\u54CD\u5E94\u5F0F\u5C5E\u6027 \u548C effect \u6620\u5C04\u8D77\u6765\n        track(target, key)\n\n        let res = Reflect.get(target, key, recevier)\n\n        if(isObject(res)){\n            return reactive(res)\n        }\n\n        return res\n    },\n    set(target, key, value, recevier){\n        let oldVal = target[key]\n\n        // \u627E\u5230\u5C5E\u6027\uFF0C\u8BA9\u5BF9\u5E94\u7684 effect \u91CD\u65B0\u6267\u884C\n        let result = Reflect.set(target, key, value, recevier)\n\n        if(oldVal !== value){\n            trigger(target, key, value, oldVal)\n        }\n\n        return result\n    }\n}", "import { isObject } from \"@vue/shared\";\nimport { ReactiveFlags } from \"./constants\";\nimport { mutableHandlers } from \"./baseHandler\";\n\nconst reactiveMap = new WeakMap();\n\nfunction createReactiveObject(target) {\n  // \u7EDF\u4E00\u505A\u5224\u65AD\uFF0C\u54CD\u5E94\u5F0F\u5BF9\u8C61\u5FC5\u987B\u662F\u5BF9\u8C61\u624D\u53EF\u4EE5\n  if (!isObject(target)) {\n    return target;\n  }\n\n  if (target[ReactiveFlags.IS_REACTIVE]) {\n    return target;\n  }\n\n  const existingProxy = reactiveMap.get(target);\n  if (existingProxy) {\n    return existingProxy;\n  }\n\n  let proxy = new Proxy(target, mutableHandlers);\n  reactiveMap.set(target, proxy);\n  return proxy;\n}\n\nexport const reactive = (target) => {\n  return createReactiveObject(target);\n};\n\nexport const toReactive = (value) => {\n  return isObject(value) ? reactive(value) : value;\n};\n\nexport function isReactive(value) {\n  return !!(value && value[ReactiveFlags.IS_REACTIVE]);\n}\n", "import { activeEffect, trackEffect, triggerEffects } from \"./effect\";\nimport { toReactive } from \"./reactive\";\nimport { createDep } from \"./reactiveEffect\";\n\nfunction createRef(rawValue, shallow = false) {\n    return new RefImpl(rawValue, shallow);\n}\n\nexport function ref(value){\n    return createRef(value);\n}\n\nexport function shallowRef(){\n\n}\n\nclass RefImpl {\n    public _value; // \u7528\u6765\u4FDD\u5B58ref \u7684\u503C\n    public _v_isRef = true; // \u589E\u52A0ref\u6807\u8BC6\n    public dep; // \u7528\u4E8E\u6536\u96C6\u5BF9\u5E94\u7684 effect\n\n    constructor(public rawValue, public _shallow){\n        this._value = _shallow ? rawValue : toReactive(rawValue)\n    }\n\n    get value(){\n        console.log('get value');\n        trackRefValue(this)\n        return this._value\n    }\n    set value(newVal){\n        if(newVal !== this.rawValue){\n            this.rawValue = newVal\n            this._value = this._shallow ? newVal : toReactive(newVal)\n            triggerRefValue(this)\n        }\n    }\n}\n\n\nexport const trackRefValue = (ref)=>{\n    if(activeEffect){\n        trackEffect(\n            activeEffect,\n            ref.dep = ref.dep || createDep(()=>ref.dep = undefined, 'undefined')\n        )\n    }\n}\n\nexport const triggerRefValue = (ref)=>{\n    debugger\n    let dep = ref.dep\n\n    if(dep){\n        // \u89E6\u53D1\u4F9D\u8D56\u66F4\u65B0\n        triggerEffects(dep)\n    }\n}\n\nclass ObjectRefImpl {\n    public _v_isRef = true\n\n    constructor(public _object, public key){}\n\n    get value(){\n        console.log(this._object, this.key);\n        return this._object[this.key]\n    }\n    set value(newVal){\n        this._object[this.key] = newVal\n    }\n}\n\nexport const toRef = (object, key)=>{\n    return new ObjectRefImpl(object, key)\n}\n\nexport const toRefs = (object)=>{\n    const res = {}\n\n    for(const key in object){\n        res[key] = new ObjectRefImpl(object, key)\n    }\n\n    return res\n}\n\nexport const proxyRefs = (objectWithRef)=>{\n    return new Proxy(objectWithRef, {\n        get(target, key, receiver){\n            let r = Reflect.get(target, key, receiver)\n            return r._v_isRef ? r.value : r\n        },\n        set(target, key, value, reciever){\n            const oldVal = target[key]\n            if(oldVal._v_isRef){\n                oldVal.value = value\n                return true\n            }else{\n                return Reflect.set(target, key, value, reciever)\n            }\n        }\n    })\n}\n\nexport function isRef(value) {\n    return value && value.__v_isRef;\n  }", "import { isFunction } from \"@vue/shared\"\nimport { ReactiveEffect } from \"./effect\";\nimport { trackRefValue, triggerRefValue } from \"./ref\";\n\nclass ComputedRefImpl {\n    public _value;\n    public effect;\n    public dep;\n    constructor(getter, public setter){\n        this.effect = new ReactiveEffect(\n            // \u7528\u6237\u7684 fn\uFF0C\u8FD9\u91CC\u5C31\u662F\uFF1A\u8BBF\u95EE \u5404\u4E2A\u54CD\u5E94\u5F0F\u5C5E\u6027\n            ()=> getter(),\n            ()=> {\n                // \u8BA1\u7B97\u5C5E\u6027\u4F9D\u8D56\u7684\u503C\u53D8\u5316\u4E86\uFF0C\u5E94\u8BE5\u89E6\u53D1effect\u91CD\u65B0\u6267\u884C\uFF0C\u5E76\u628A dirty \u53D8\u4E3Atrue\n                triggerRefValue(this)\n            }\n        )\n    }\n\n    get value(){\n        // \u9700\u8981\u6536\u96C6\u5F53\u524D\u8BA1\u7B97\u5C5E\u6027\u5BF9\u5E94\u7684effect\n        if(this.effect.dirty){\n            // \u9ED8\u8BA4\u53D6\u503C\u4E00\u5B9A\u662F\u810F\u7684\uFF0C\u6267\u884C\u4E00\u6B21 run \u5C31\u4E0D\u810F\u4E86\n            // computed \u7684 run \u65B9\u6CD5\uFF0C\u4F1A\u6267\u884C fn: ()=> getter(),\u8FD9\u4E2A\u65B9\u6CD5\u91CC\u53EF\u80FD\u5C31\u4F1A\u8BBF\u95EE\u5230 \u5176\u4ED6\u7684\u54CD\u5E94\u5F0F\u5C5E\u6027\uFF0C\n            //   \u8FDB\u800C\u8BBF\u95EE\u5C5E\u6027\u65F6\uFF0C\u4F1A\u5C06 computed\u81EA\u8EAB\u7684effect \u8FDB\u884C\u6536\u96C6\n            this._value = this.effect.run()\n\n            // \u6536\u96C6 \u7528\u5230\u5F53\u524D\u8BA1\u7B97\u5C5E\u6027\u7684 effect\n            trackRefValue(this)\n        }\n\n        return this._value\n    }\n    set value(val){\n        this.setter(val)\n    }\n}\n\n/**\n * \u63CF\u8FF0\u5B9E\u73B0\u539F\u7406\uFF1A\n *  1.\u8BA1\u7B97\u5C5E\u6027\u7EF4\u62A4\u4E86\u4E00\u4E2Adirty\u5C5E\u6027\uFF0C\u9ED8\u8BA4\u5C31\u662Ftrue\uFF0C\u7A0D\u540E\u8FD0\u884C\u8FC7\u4E00\u6B21\u4F1A\u5C06dirty\u53D8\u4E3Afalse\uFF0C\u5E76\u4E14\u7A0D\u540E\u4F9D\u8D56\u7684\u503C\u53D8\u5316\u540E\u4F1A\u518D\u6B21\u8BA9dirty\u53D8\u4E3Atrue\n *  2.\u8BA1\u7B97\u5C5E\u6027\u4E5F\u662F\u4E00\u4E2Aeffect\uFF0C\u4F9D\u8D56\u7684\u5C5E\u6027\u4F1A\u6536\u96C6\u8FD9\u4E2A\u8BA1\u7B97\u5C5E\u6027\uFF0C\u5F53\u524D\u503C\u53D8\u5316\u540E\uFF0C\u4F1A\u8BA9computedEffect\u91CC\u9762dirty \u53D8\u4E3Atrue\n *  3.\u8BA1\u7B97\u5C5E\u6027\u5177\u5907\u6536\u96C6\u80FD\u529B\u7684\uFF0C\u53EF\u4EE5\u6536\u96C6\u5BF9\u5E94\u7684effect\uFF0C\u4F9D\u8D56\u7684\u503C\u53D8\u5316\u540E\u4F1A\u89E6\u53D1effect\u91CD\u65B0\u6267\u884C\n * \n * \u8BA1\u7B97\u5C5E\u6027aLiasName\uFF0C\u8BA1\u7B97\u5C5E\u6027\u4F9D\u8D56\u7684\u503Cname\n *  - \u8BA1\u7B97\u5C5E\u6027\u672C\u8EAB\u5C31\u662F\u4E00\u4E2A effect \uFF0C\u6709\u4E00\u4E2A\u6807\u8BC6dirty = true\uFF0C\u8BBF\u95EE\u7684\u65F6\u5019\u4F1A\uFF0C\u89E6\u53D1name\u5C5E\u6027\u7684get\u65B9\u6CD5\uFF08\u4F9D\u8D56\u6536\u96C6\uFF09 \n *          \u5C06name\u5C5E\u6027\u548C\u8BA1\u7B97\u5C5E\u6027\u505A\u4E00\u4E2A\u6620\u5C04\uFF0C\u7A0D\u540Ename\u53D8\u5316\u540E\u4F1A\u89E6\u53D1\u8BA1\u7B97\u5C5E\u6027\u7684scheduler\n *  - \u8BA1\u7B97\u5C5E\u6027\u53EF\u80FD\u5728effect\u4E2D\u4F7F\u7528\uFF0C\u5F53\u53D6\u8BA1\u7B97\u5C5E\u6027\u7684\u65F6\u5019\uFF0C\n *          \u4F1A\u5BF9\u5F53\u524D\u7684effect\u8FDB\u884C\u4F9D\u8D56\u6536\u96C6\u5982\u679Cname\u5C5E\u6027\u53D8\u5316\u4E86\uFF0C\u4F1A\u901A\u77E5\u8BA1\u7B97\u5C5E\u6027\u5C06dirty \u53D8\u4E3AtrueK\u89E6\u53D1\u8BA1\u7B97\u5C5E\u6027\u6536\u96C6\u7684effect\uFF09\n */\n\nexport const computed = (getterOrOptions) => {\n    let onlyGetter = isFunction(getterOrOptions)\n\n    let getter;\n    let setter;\n\n    if(onlyGetter){\n        getter = getterOrOptions\n        setter = ()=>{}\n    }else{\n        getter = getterOrOptions.get\n        setter = getterOrOptions.set\n    }\n\n    // \u8BA1\u7B97\u5C5E\u6027ref\n    return new ComputedRefImpl(getter, setter)\n}", "import { isFunction, isObject } from \"@vue/shared\"\nimport { isReactive } from \"./reactive\"\nimport { isRef } from \"./ref\"\nimport { ReactiveEffect } from \"./effect\"\n\nexport const watch = (source, cb, options = {} as any) => {\n    return doWatch(source, cb, options)\n}\n\nexport const watchEffect = (source, options = {}) => {\n    return doWatch(source, null, options as any)\n}\n\n// \u63A7\u5236 depth \u5DF2\u7ECF\u5F53\u524D\u904D\u5386\u5230\u4E86\u90A3\u4E00\u5C42\n// seen \u7528\u6765\u8BB0\u5F55\u5DF2\u7ECF\u904D\u5386\u8FC7\u7684\u5BF9\u8C61\uFF0C\u907F\u514D\u5FAA\u73AF\u5F15\u7528\nfunction traverse(source, depth, currentDepth = 0, seen = new Set()) {\n    if(!isObject(source)){\n        return source\n    }\n\n    if(depth){\n        if(currentDepth >= depth){\n            return source\n        }\n        // \u6839\u636E deep \u5C5E\u6027\u6765\u770B\u662F\u5426\u662F\u6DF1\u5EA6\n        currentDepth++\n    }\n\n    if(seen.has(source)){\n        return source\n    }\n\n    for (const key in source) {\n        traverse(source[key], depth, currentDepth, seen)\n    }\n\n    return source\n}\n\nconst reactiveGetter = (source, deep) => {\n    const depth = deep === false ? 1 : undefined\n    traverse(source, depth)\n}\n\nfunction doWatch(source, cb, { deep = false, immediate }) {\n    debugger\n    // watch \u7684\u6838\u5FC3\u5C31\u662F\u89C2\u6D4B\u4E00\u4E2A\u54CD\u5E94\u5F0F\u6570\u636E\uFF0C\u5F53\u6570\u636E\u53D8\u5316\u65F6\u901A\u77E5\u5E76\u6267\u884C\u56DE\u8C03 \uFF08\u90A3\u4E5F\u5C31\u662F\u8BF4\u5B83\u672C\u8EAB\u5C31\u662F\u4E00\u4E2A effect\uFF09\n\n    let oldValue;\n    let getter\n    // 1. Ref\uFF1A\u901A\u8FC7\u00A0`ref`\u00A0\u521B\u5EFA\u7684\u54CD\u5E94\u5F0F\u53D8\u91CF\u3002\n    // 2. Reactive Object\uFF1A\u901A\u8FC7\u00A0`reactive`\u00A0\u521B\u5EFA\u7684\u54CD\u5E94\u5F0F\u5BF9\u8C61\u3002\n    // 3. Computed Ref\uFF1A\u901A\u8FC7\u00A0`computed`\u00A0\u521B\u5EFA\u7684\u8BA1\u7B97\u5C5E\u6027\u3002\n    // 4. Array of Refs\uFF1A\u4E00\u4E2A\u5305\u542B\u591A\u4E2A\u00A0`ref`\u00A0\u7684\u6570\u7EC4\u3002\n    // 5. Getter Function\uFF1A\u4E00\u4E2A\u8FD4\u56DE\u503C\u7684\u51FD\u6570\u3002\n    if(isReactive(source)) {\n        getter = () => reactiveGetter(source, deep)\n    }else if(isRef(source)){\n        getter = () => source.value\n    }else if(isFunction(source)){\n        getter = source\n    }\n\n    let clean;\n    const onCleanup = (fn) => {\n        clean = () => {\n            fn()\n            clean = undefined\n        }\n    }\n\n    const job = () => {\n        // \u6267\u884C effect.run() \u65F6\uFF0C\u4F1A\u89E6\u53D1 getter \u51FD\u6570, getter \u51FD\u6570\u4F1A\u89E6\u53D1\u4F9D\u8D56\u6536\u96C6\n        if(cb){\n            const newValue = effect.run()\n\n            //  \u5728\u6267\u884C\u56DE\u8C03\u524D\uFF0C\u5148\u8C03\u7528\u4E0A\u4E00\u6B21\u7684\u6E05\u7406\u64CD\u4F5C\u8FDB\u884C\u6E05\u7406\n            if(clean){\n                clean()\n            }\n\n            cb(newValue, oldValue, onCleanup)\n            oldValue = newValue\n        }else{\n            effect.run() // watchEffect\n        }\n    }\n\n    const effect = new ReactiveEffect(getter, job)\n\n    if(cb){\n        if(immediate){\n            // \u7ACB\u5373\u5148\u6267\u884C\u4E00\u6B21\u7528\u6237\u7684\u56DE\u8C03\uFF0C\u4F20\u9012\u65B0\u503C\u548C\u8001\u503C\n            job()\n        }else{\n            oldValue = effect.run()\n        }\n    }else{\n        // \u6CA1\u6709cb \u5C31 \u76F4\u63A5\u6267\u884C\u5373\u53EF\uFF0C\u8FD9\u4E5F\u5C31\u662F watchEffect\n        effect.run()\n    }\n\n    const unwatch = () => {\n        effect.stop()\n    }\n\n    return unwatch\n}", "import { nodeOps } from './nodeOps'\nimport patchProp from './patchProp'\n\nimport { createRenderer, h, createVnode } from '@vue/runtime-core'\n\nconst rendererOptions = Object.assign({patchProp}, nodeOps)\n\nexport const render = (vnode, container) => {\n    return createRenderer(rendererOptions).render(vnode, container)\n}\n\nexport * from '@vue/runtime-core'\n"],
  "mappings": "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",
  "names": ["type", "rendererOptions", "j", "i", "ref", "render", "effect", "ref", "effect"]
}
